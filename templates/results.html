{% extends "base.html" %}

{% block content %}
<!-- Outer Container: entire screen, 3 columns -->
<div class="grid grid-cols-3 w-screen h-screen bg-white dark:bg-black text-black dark:text-white transition-colors duration-300">

  <!-- LEFT COLUMN (1/3 width): split into top & bottom boxes -->
  <div class="flex flex-col h-full">

    <div class="flex-1 border border-black dark:border-white overflow-hidden
                transition-colors duration-300">
      <!-- 4 equal rows, with thin black line between them (added an extra row) -->
      <div class="grid grid-rows-4 h-full divide-y divide-black dark:divide-white">

        <!-- Row 1 -->
        <a href="{{ url_for('visualize_phrases', text=original_text, phrases=phrases) }}"
           class="relative group block w-full h-full bg-white dark:bg-black overflow-hidden transition-colors duration-300">
          <!-- Sweeping black overlay (always black; see "Bonus" below for inverting it) -->
        <span class="absolute inset-0 -translate-x-full 
                   bg-black dark:bg-white 
                   group-hover:translate-x-0 transition-transform duration-300 ease-in-out">
        </span>
        <span class="relative z-10 flex items-center justify-center h-full
                   text-lg font-semibold
                   text-black dark:text-white
                   group-hover:text-white dark:group-hover:text-black">
          Visualize Phrases
        </span>
        </a>

        <!-- Row 2 -->
        <a href="{{ url_for('index') }}"
           class="relative group block w-full h-full bg-white dark:bg-black overflow-hidden transition-colors duration-300">
          <span class="absolute inset-0 -translate-x-full 
                     bg-black dark:bg-white 
                     group-hover:translate-x-0 transition-transform duration-300 ease-in-out">
          </span>
          <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold
                     text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
            Upload Another Text
          </span>
        </a>

        <!-- Row 3 -->
        <a href="{{ url_for('edit_phrases', original_text=original_text, phrases=phrases) }}"
           class="relative group block w-full h-full bg-white dark:bg-black overflow-hidden transition-colors duration-300">
          <span class="absolute inset-0 -translate-x-full 
                     bg-black dark:bg-white 
                     group-hover:translate-x-0 transition-transform duration-300 ease-in-out">
          </span>
          <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold
                     text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
            Edit Phrases
          </span>
        </a>

        <!-- Row 4 - Compare Your Resume - Fixed to properly pass params -->
        <a href="{{ url_for('upload_resume', original_text=original_text, phrases=phrases) }}"
           class="relative group block w-full h-full bg-white dark:bg-black overflow-hidden transition-colors duration-300">
          <span class="absolute inset-0 -translate-x-full 
                     bg-black dark:bg-white 
                     group-hover:translate-x-0 transition-transform duration-300 ease-in-out">
          </span>
          <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold
                     text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
            Compare Your Resume
          </span>
        </a>
      </div>
    </div>

    <!-- BOTTOM HALF BOX: single big button, corners rounded at bottom-left -->
    <div class="flex-1 border border-black dark:border-white border-t-0 overflow-hidden transition-colors duration-300">
      <a href="{{ url_for('phrase_list', text=original_text, phrases=phrases) }}"
         class="relative group block w-full h-full bg-white dark:bg-black overflow-hidden transition-colors duration-300">
          <span class="absolute inset-0 -translate-x-full 
                     bg-black dark:bg-white 
                     group-hover:translate-x-0 transition-transform duration-300 ease-in-out">
          </span>
          <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold
                     text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
          List Phrases
        </span>
      </a>
    </div>

  </div>

  <!-- RIGHT COLUMN (col-span-2): Highlighted Text, corners rounded at top-right & bottom-right -->
  <div class="col-span-2 h-full border border-black dark:border-white overflow-hidden transition-colors duration-300">
    <!-- Text container: scrollable if overflow -->
    <div class="w-full h-full overflow-auto p-4 bg-white dark:bg-black text-black dark:text-white transition-colors duration-300">
      <div class="text-left whitespace-pre-wrap">
        {{ highlighted_text|safe }}
      </div>
    </div>
  </div>

</div>
{% endblock %}
