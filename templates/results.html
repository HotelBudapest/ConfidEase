{% extends "base.html" %}
{% block content %}
<div class="p-6">

    <a href="{{ url_for('overview', job_id=job_id) }}"
       class="custom-tab {% if request.endpoint == 'overview' %}active{% endif %}">
      Overview
    </a>

  <!-- News Progress Tile (with glowing hover) -->
  <div
    id="news-progress-tile"
    class="p-4 mb-6 floating-tile rounded-xl shadow
           border-2 border-green-300
           hover:ring-4 hover:ring-green-300 hover:ring-opacity-75 hover:shadow-lg
           transition-all duration-300"
  >
    <div class="flex justify-between items-center mb-1">
      <span class="font-medium text-gray-700 dark:text-gray-300">
        Keyword Progress
      </span>
      <span id="news-progress-label" class="text-sm font-semibold">
        {{ keyword_score }}%
      </span>
    </div>
    <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5">
      <div
        id="news-progress-bar"
        class="bg-green-500 h-2.5 rounded-full"
        style="width: {{ keyword_score }}%;"
      ></div>
    </div>
  </div>

<div class="relative h-[calc(100vh-4rem)] overflow-hidden">

  <!-- your existing grid -->
  <div class="grid grid-cols-4 h-full gap-6 p-6">
    
    <!-- left nav tiles -->
    <div class="col-span-1 flex flex-col gap-6">
      <a href="{{ url_for('edit_phrases', job_id=job.id) }}"
         class="group flex-1 relative overflow-hidden
                bg-white/50 dark:bg-black/50
                backdrop-blur-md rounded-xl shadow-lg
                transition-all duration-300
                hover:scale-[1.02]">
        <span class="absolute inset-0 -translate-x-full bg-black dark:bg-white
                     group-hover:translate-x-0 transition-transform duration-300"></span>
        <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
          Edit Phrases
        </span>
      </a>
      <a href="{{ url_for('phrase_list', job_id=job.id) }}"
         class="group flex-1 relative overflow-hidden
                bg-white/50 dark:bg-black/50
                backdrop-blur-md rounded-xl shadow-lg
                transition-all duration-300
                hover:scale-[1.02]">
        <span class="absolute inset-0 -translate-x-full bg-black dark:bg-white
                     group-hover:translate-x-0 transition-transform duration-300"></span>
        <span class="relative z-10 flex items-center justify-center h-full
                     text-lg font-semibold text-black dark:text-white
                     group-hover:text-white dark:group-hover:text-black">
          List Phrases
        </span>
      </a>
    </div>

    <!-- main text tile -->
    <div class="col-span-3 overflow-auto
                bg-white/50 dark:bg-black/50
                backdrop-blur-md rounded-xl shadow-lg
                p-6 transition-all duration-300
                hover:scale-[1.01]">
      <div class="whitespace-pre-wrap text-left text-black dark:text-white">
        {{ job.highlighted_text|safe }}
      </div>
    </div>

  </div>
</div>
{% endblock %}
